function displayComments(e){(new Posts).get("data.json").then((e=>{loadData(e)})).catch((e=>console.log(e)))}function loadData(e){const t=document.querySelector("#current-user__avatar"),n=(e.currentUser.image.png,e.currentUser.image.webp);t.setAttribute("src",n);e.comments.forEach((function(e){const t=e.user.image.webp,n=e.user.username,s=e.content,o=e.createdAt,c=e.score,a=e.id,r=e.replies,m=new Comment(t,n,o,s,c);if(m.showComment(),m.createReply(),0!==r.length)for(const e of r){const t=document.querySelector("#comments-section").getElementsByClassName("__comment-container")[a-1],n=document.createElement("div");n.setAttribute("class","comment-reply"),n.setAttribute("id","reply-section"),t.appendChild(n);const s=e.user.image.webp,o=e.user.username,c=e.content,r=e.createdAt,m=e.score,i=new Reply(s,o,r,c,m);i.showReply(),i.reply()}}))}document.addEventListener("DOMContentLoaded",displayComments);class Comment{constructor(e,t,n,s,o){this.avatar=e,this.username=t,this.commentDate=n,this.comment=s,this.score=o}postComment(){return`\n            <div class="__comment-container">\n                <div class="__comment">\n                    <div class="__comment__info">\n                        <span class="__comment__avatar">\n                            <img src=${this.avatar} alt="User Avatar">\n                        </span>\n                        <span class="__comment__username">${this.username}</span>\n                        <span class="__comment__date">${this.commentDate}</span>\n                    </div>\n                    <p class="__comment__content">${this.comment}</p>\n                    \n                        <div class="__command__vote--btn --btn">\n                            <button class="up-vote vote--btn">\n                                <i class="fa-solid fa-plus"></i>\n                            </button>\n                            <span class="vote-count">${this.score}</span>\n                            <button class="down-vote vote--btn">\n                                <i class="fa-solid fa-minus"></i>\n                            </button>\n                        </div>\n                        <button class="__command__reply--btn --btn">\n                            <i class="fa-solid fa-reply"></i>\n                            Reply\n                        </button>\n                   \n                </div>\n            </div>\n        `}showComment(){document.querySelector("#comments-section").innerHTML=displayComment(this.postComment())}createReply(){const e=document.querySelectorAll(".__command__reply--btn"),t=document.querySelector(".new-comment");e.forEach((e=>{screen.width;e.addEventListener("click",(function(n){n.target===e&&screen.width<=768&&t.classList.toggle("reply-box")}))})),window.addEventListener("scroll",(function(e){const n=document.documentElement.scrollHeight-window.innerHeight,s=window.scrollY;Math.ceil(s)===n&&t.classList.remove("reply-box")}))}}class Reply extends Comment{constructor(e,t,n,s,o){super(e,t,n,s,o)}showReply(){document.querySelector("#reply-section").innerHTML=displayReply(this.postComment())}reply(){this.createReply()}}const displayComment=function(e){let t="";return function(e){return t+=e}}(),displayReply=function(e){let t="";return function(e){return t+=e}}();